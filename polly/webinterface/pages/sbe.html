#set ($dir = !$dir)

<h2>Revorix Scoreboard Paster</h2>

<a href="/file:$csvFileName">Download CSV</a>

<h3>Post new Scoreboard paste</h3>
<form action="/Scoreboard" method="POST">
	Paste:<br/>
	<textarea name="paste" style="width:100%;height:200px"></textarea></br>
	Datum (optional): <input type="text" name="date" value=""/>
	<input type="hidden" name="action" value="postSB"/>
	<input type="submit" value="Submit" class="button"/>
</form>

#if ($sortKey && $entries)
    $sorter.sort($entries, $sortKey, $dir)
#end

<h3>Current known Scoreboard state</h3>
<table>
    <tr>
        <th><a href="Scoreboard?sortKey=getRank&dir=$dir">Rank</a></th>
        <th><a href="Scoreboard?sortKey=getVenadName&dir=$dir">Venad</a></th>
        <th><a href="Scoreboard?sortKey=getClan&dir=$dir">Clan</a></th>
        <th><a href="Scoreboard?sortKey=getPoints&dir=$dir">Points</a></th>
        <th><a href="Scoreboard?sortKey=getPointsPerDay&dir=$dir">Points/Day</a></th>
        <th><a href="Scoreboard?sortKey=getSpan&dir=$dir">Timespan</a> <a href="Scoreboard?sortKey=getEntries&dir=$dir">(Entries)</a></th>
        <th><a href="Scoreboard?&sortKey=getDate&dir=$dir">Date</a></th>
        <th>Action</th>
    </tr>
    #foreach($entry in $entries)
    <tr>
        <td>$entry.getRank()</td>
        <td>$entry.getVenadName()</td>
        <td>$entry.getClan()</td>
        <td>$entry.getPoints()</td>
        <td>$nformat.format($entry.getPointsPerDay())</td>
        <td>$myPolly.formatting().formatTimeSpanMs($entry.getSpan()) ($entry.getEntries())</td>
        <td>$myPolly.formatting().formatDate($entry.getDate())</td>
        <td><a href="/sbe_details?venad=$entry.getVenadName()">Details</a> | <a href="/Scoreboard?action=delete&id=$entry.getId()">Delete</a></td>
    </tr>
    #end
</table>

