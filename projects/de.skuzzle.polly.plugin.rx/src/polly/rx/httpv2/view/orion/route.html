#parse ( "/polly/rx/httpv2/view/orion/orion.util.html" )

<table>
<tr>
    <th colspan="2">$MSG.htmlOrionRouteInfo</th>
</tr>
#if ( $path.pathFound() )
<tr>
    <td><b>$MSG.htmlOrionSectorJumps</b></td>
    <td>$path.getSectorJumps()</td>
</tr>
<tr>
    <td><b>$MSG.htmlOrionQuadJumps</b></td>
    <td>$path.getQuadJumps()</td>
</tr>
<tr>
    <td><b>$MSG.htmlOrionWLUnload</b></td>
    <td>$path.getMinUnload()-$path.getMaxUnload() Min</td>
</tr>
<tr>
    <td><b>$MSG.htmlOrionWaitingTime</b></td>
    <td>$path.getMaxWaitTime() Min</td>
</tr>
#else
<tr>
    <td colspan="2">$MSG.htmlOrionNoRouteFound</td>
</tr>
#end
</table>

#WORMHOLES ( $path.getWormholes() )

<table>
#foreach ($group in $path.getGroups())
<tr>
    <th colspan="2">$group.getQuadName()</th>
</tr>

<tr>
    <td>
    #foreach ($edge in $group.getEdges())
        #set ( $ed = $edge.getData() )
        #set($source = $edge.getSource().getData())
        #set($target = $edge.getTarget().getData())
        
        #if ($ed.isWormhole())
        <p style="margin-top:7px">
            #if ( $ed.mustWait() )
            <span style="color:red"><b>$MSG.htmlOrionWaitingTime: $ed.getWaitMin()-$ed.getWaitMax() Min</b></span><br/>
            #end
            <b>Wurmloch: </b> $ed.getWormhole().getName()<br/>
            Von: #SECTOR_NO_LINK ( $source ) <br/>
            Nach: #SECTOR_NO_LINK ( $target ) <br/>
            Entladung: $ed.getWormhole().getMinUnload()-$ed.getWormhole().getMaxUnload()<br/>
        </p>
        #end

    #end
    </td>
    <td>
    #QUADRANT ( $group.getQuadrant() )
    </td>
</tr>
#end        ## for each groups
</table>