#set ($dir = !$dir)

<h2>Revorix Scoreboard Paster</h2>

<h3>History of $venad</h3>
<table style="width:auto;">
    <tr>
        <th>Zeitraum:</th>
        <td>$myPolly.formatting().formatTimeSpanMs($span)</td>
    </tr>
    <tr>
        <th>Punkte pro Tag:</th>
        <td>$nformat.format($pointsPerDay) ($days Tage)</td>
    </tr>
</table>

<h3>Diagram</h3>
<form action="sbe_details?venad=$venad" method="POST">
    <input type="hidden" name="action" value="setMM"/>
    <label for="selectMonths">Select number of months to display:</label>
    <select id="selectMonths" name="maxMonths" size="1">
        #foreach ($month in $monthValues)
        #set ($select = $month == $maxMonths)
        <option value="$month" #if ($select) selected #end>$month</option>
        #end
    </select>
    
    <input type="submit" class="button" value="Set"/>
</form>

<ul id="data" style="
        list-style: none; 
        background: url('/memory:${venad}_graph_$maxMonths') no-repeat 0 0;
        position: relative;
        width: 850px;
        height: 500px;
        margin: 0px;
        padding: 0px;">
    #foreach($np in $allPoints)
        #set ($left = $np.getIntX() - 4)
        #set ($top = $np.getIntY() - 3)
    <li style="
        border: none; 
        position: absolute;
        top: ${top}px;
        left: ${left}px;
        width: 6px;
        height: 5px;">
            <a class="lihover" href="#" style="
                display: block; 
                height: 100%; 
                text-indet:-9000px;" 
                alt="$np.getName()" title="$np.getName()"/>
            </a>
    </li>
    #end
</ul>





#if ($sortKey && $entries)
    $sorter.sort($entries, $sortKey, $dir)
#end

<table>
    <tr>
        <th><a href="sbe_details?venad=$venad&sortKey=getRank&dir=$dir">Rank</a></th>
        <th><a href="sbe_details?venad=$venad&sortKey=getVenadName&dir=$dir">Venad</a></th>
        <th><a href="sbe_details?venad=$venad&sortKey=getClan&dir=$dir">Clan</a></th>
        <th><a href="sbe_details?venad=$venad&sortKey=getPoints&dir=$dir">Points</a></th>
        <th><a href="sbe_details?venad=$venad&sortKey=getDiffToPrevious&dir=$dir">Points to prev.</a></th>
        <th><a href="sbe_details?venad=$venad&sortKey=getDaysToPrevious&dir=$dir">Days to prev.</a></th>
        <th><a href="sbe_details?venad=$venad&sortKey=getDiscDerivative&dir=$dir">Derivative</a></th>
        <th><a href="sbe_details?venad=$venad&sortKey=getDate&dir=$dir">Date</a></th>
        <th>Action</th>
    </tr>
    #foreach($entry in $entries)
    <tr>
        <td>$entry.getRank()</td>
        <td>$entry.getVenadName()</td>
        <td>$entry.getClan()</td>
        <td>$entry.getPoints()</td>
        <td>$entry.getDiffToPrevious()</td>
        <td>$entry.getDaysToPrevious()</td>
        <td>$nformat.format($entry.getDiscDerivative())</td>
        <td>$myPolly.formatting().formatDate($entry.getDate())</td>
        <td><a href="/Scoreboard?action=delete&id=$entry.getId()">Delete</a></td>
    </tr>
    #end
</table>

